import cv2
import numpy as np
import matplotlib.pyplot as plt

# Load image in grayscale
img = cv2.imread(r"C:\Users\yasaswini kuchi\OneDrive\Pictures\Screenshots\Screenshot 2026-02-11 095427.png", 0)

if img is None:
    print("Error: Image not loaded. Check the file path.")
    exit()

# Step 1: Blur the image (Gaussian blur)
blurred = cv2.GaussianBlur(img, (5, 5), 0)

# Step 2: Create the unsharp mask (original - blurred)
mask = cv2.subtract(img, blurred)

# Step 3: Add the mask back to the original image to sharpen
sharpened = cv2.add(img, mask)

# Display results
plt.figure(figsize=(12,4))

plt.subplot(1,3,1)
plt.imshow(img, cmap='gray')
plt.title('Original Image')
plt.axis('off')

plt.subplot(1,3,2)
plt.imshow(blurred, cmap='gray')
plt.title('Blurred Image')
plt.axis('off')

plt.subplot(1,3,3)
plt.imshow(sharpened, cmap='gray')
plt.title('Sharpened Image (Unsharp Mask)')
plt.axis('off')

plt.show()
